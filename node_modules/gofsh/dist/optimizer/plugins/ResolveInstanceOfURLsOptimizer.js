"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fsh_sushi_1 = require("fsh-sushi");
const utils_1 = require("../utils");
const FISHER_TYPES = [
    fsh_sushi_1.utils.Type.Resource,
    fsh_sushi_1.utils.Type.Type,
    fsh_sushi_1.utils.Type.Profile,
    fsh_sushi_1.utils.Type.Extension
];
exports.default = {
    name: 'resolve_instanceof_urls',
    description: 'Replace declared instanceOf URLs with their names or aliases',
    optimize(pkg, fisher) {
        pkg.instances.forEach(instance => {
            if (instance.instanceOf) {
                instance.instanceOf = utils_1.optimizeURL(instance.instanceOf, pkg.aliases, FISHER_TYPES, fisher);
            }
        });
    }
};
//# sourceMappingURL=ResolveInstanceOfURLsOptimizer.js.map