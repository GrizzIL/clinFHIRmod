"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fsh_sushi_1 = require("fsh-sushi");
const utils_1 = require("../utils");
const FISHER_TYPES = [
    fsh_sushi_1.utils.Type.Resource,
    fsh_sushi_1.utils.Type.Type,
    fsh_sushi_1.utils.Type.Profile,
    fsh_sushi_1.utils.Type.Extension,
    fsh_sushi_1.utils.Type.Logical
];
exports.default = {
    name: 'resolve_parent_urls',
    description: 'Replace declared parent URLs with their names or aliases',
    optimize(pkg, fisher) {
        for (const resource of [
            ...pkg.profiles,
            ...pkg.extensions,
            ...pkg.logicals,
            ...pkg.resources
        ]) {
            if (resource.parent) {
                resource.parent = utils_1.optimizeURL(resource.parent, pkg.aliases, FISHER_TYPES, fisher);
            }
        }
    }
};
//# sourceMappingURL=ResolveParentURLsOptimizer.js.map