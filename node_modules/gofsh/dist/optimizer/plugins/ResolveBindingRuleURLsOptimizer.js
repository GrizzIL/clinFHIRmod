"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fsh_sushi_1 = require("fsh-sushi");
const exportable_1 = require("../../exportable");
const utils_1 = require("../utils");
exports.default = {
    name: 'resolve_binding_rule_urls',
    description: 'Replace URLs in binding rules with their names or aliases',
    optimize(pkg, fisher) {
        [...pkg.profiles, ...pkg.extensions].forEach(resource => {
            resource.rules.forEach(rule => {
                if (rule instanceof exportable_1.ExportableBindingRule) {
                    rule.valueSet = utils_1.optimizeURL(rule.valueSet, pkg.aliases, [fsh_sushi_1.utils.Type.ValueSet], fisher);
                }
            });
        });
    }
};
//# sourceMappingURL=ResolveBindingRuleURLsOptimizer.js.map