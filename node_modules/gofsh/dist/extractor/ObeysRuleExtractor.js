"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ObeysRuleExtractor = void 0;
const exportable_1 = require("../exportable");
const utils_1 = require("../utils");
class ObeysRuleExtractor {
    static process(input) {
        var _a;
        const invariantKeys = [];
        if (((_a = input.constraint) === null || _a === void 0 ? void 0 : _a.length) > 0) {
            input.constraint.forEach((constraint, i) => {
                // if the element's key was processed, that means an Invariant exists, and we should add an ObeysRule.
                if (input.processedPaths.includes(`constraint[${i}].key`)) {
                    invariantKeys.push(constraint.key);
                }
            });
        }
        if (invariantKeys.length) {
            const obeysRule = new exportable_1.ExportableObeysRule(utils_1.getPath(input));
            obeysRule.keys = invariantKeys;
            return obeysRule;
        }
        return null;
    }
}
exports.ObeysRuleExtractor = ObeysRuleExtractor;
//# sourceMappingURL=ObeysRuleExtractor.js.map