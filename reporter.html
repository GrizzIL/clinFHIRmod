<!DOCTYPE html>
<html>
<head lang="en">
    <base href="/" />
    <meta charset="UTF-8">

    <script src="js/libs/angular.min1-5.js"></script>
    <script src="js/libs/ui-bootstrap-tpls-1.2.5.min.js"></script>

    <script src="js/libs/moment.min.js"></script>

    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>

    <script src="js/libs/angular-sanitize.js"></script>

    <script>
        angular.module("sampleApp",['ui.bootstrap']).config(function($locationProvider) {

            // enable html5Mode for pushstate ('#'-less URLs)
            $locationProvider.html5Mode(true);
            $locationProvider.hashPrefix('!');
        });
        angular.module("sampleApp").constant("moment", moment);

    </script>
    <script src="js/filters.js"></script>
    <script src="js/documentBuilder.js"></script>
    <script src="resourceBuilder/rbServices.js"></script>
    <script src="js/reporterCtrl.js"></script>

    <title>Reporter</title>

</head>


<body style="padding: 8px" >

<div ng-app="sampleApp" ng-controller="reporterCtrl" class="container-fluid">




    <uib-tabset>
        <uib-tab heading="Log">
            <h3>Failed operations - Validate or Save</h3>
            <br />

            <div class="row">
                <div class="col-md-3 col-sm-3">
                    <div class="list-group">
                        <div class="list-group-item"
                           ng-repeat="error in errors">
                            <div style="cursor: pointer" ng-click="errorSelected(error)">
                                {{error.resource.resourceType}}
                                <div>{{error.date | date:'medium'}}</div>
                                <div>{{error.date | getAgeSeconds}}</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-9 col-sm-9">
                    <uib-tabset>
                        <uib-tab heading="All">
                            <pre ng-show="selectedError" >{{selectedError | json}}</pre>
                        </uib-tab>
                        <uib-tab heading="Resource">
                            <pre ng-show="selectedError" >{{selectedError.resource | json}}</pre>
                        </uib-tab>
                        <uib-tab heading="OperationOutcome">
                            <pre ng-show="selectedError" >{{selectedError.oo | json}}</pre>
                        </uib-tab>
                    </uib-tabset>


                </div>
            </div>
        </uib-tab>

        <uib-tab heading="Document Builder">
            <div ng-controller="documentBuilderCtrl">
                <ng-include src="'/includes/documentBuilder.html'"></ng-include>
            </div>
        </uib-tab>

    </uib-tabset>





</div>
</body>
</html>